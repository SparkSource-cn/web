---
layout: page
title: SparkSource 模拟器助力 HMI 开发测试一体化
description: SparkSource simulator helps HMI development and test
---


一个项目的完成离不开各个团队的协同努力和紧密配合。开发人员和测试人员的配合在保证
产品质量方面尤其起着关键的作用。开发团队常常面对的问题就是功能开发和自测的工作比
例安排，在功能多、时间紧的情况下开发自测的工作比例自觉不自觉地都会下降。

如果开发环境和工具能够帮助开发者提高自测的效率和减少自测的工作量，那么无疑是对整
个团队和项目都是非常有利的事情。SparkSource 的模拟器正式针对 HMI 开发中的开发自
测环节的有力武器。

SparkSource 的模拟器可以完全摆脱对 HMI 驱动数据的中间件的依赖。开发者可以按照产
品设计要求的逻辑展示 HMI 的变化，其逻辑变化由 SparkSource 的 Spark Model 部分模
拟提供，可以是开发者手动配置数据，也可以是模拟器自动配置数据遍历 HMI 的各种状态。

整体来说，SparkSource 的模拟器可以分为三个方面的模拟。

* 手动模拟

SparkSource 的手动模拟支持 HMI 开发工程师通过在 SparkStudio 中手动勾选模拟参数，
手动拖动模拟进度条等方式来手动输入 HMI 的逻辑驱动参数，同时根据参数自动产生 HMI
对应的逻辑变化。这一功能对开发新的 HMI 界面功能和解决已知缺陷非常有效，实际上是
一种所见即所得的开发结合边界条件测试为一体的测试驱动开发的工具模式。

* 开发环境自动模拟

SparkSource 的开发环境自动模拟支持在 XML 文件中配置模拟对象，然后在 SparkStudio
中根据配置逐项动态模拟 HMI 的逻辑变化。这种模拟非常适合在整个功能开发到特定阶段
的整体模拟，可以检验整个功能的设计情况、为客户做 POC 展示、应用性能调优等。

* 目标硬件上的自动模拟

SparkSource 的模拟不仅可以跑在开发电脑上，也可以直接运行在目标硬件上。跑在目标硬
件上的模拟可以不需要外部信号输入，能够在缺少周边器件的情况下进行 HMI 的调试和展
示，甚至可以在没有摄像头的情况下进行图像相关的逻辑模拟。这种模拟一方面可以对 HMI
的整体设计进行检查、向客户展示项目直观进展，另一方面，也可以对系统性能进行进一步
调优，及早发现 HMI 的性能关键点，提早做技术分析和改进。

如果结合真实采集的数据和信号，SparkSource 的硬件模拟也可以作为测试团队的自动化测
试工具。它把路侧、实测和手动输入的数据文件作为 HMI 的驱动源，据此进行相应的 HMI
变化。测试人员可以提供各个关键节点的目标 HMI 结果，与模拟结果相比较，自动验证设
计的正确性和发现问题。

总之，SparkSource 的模拟器设计适应多个开发和测试流程，能够通过数据和 HMI 的自动
化丰富开发和测试的工作手段，提高开发和测试的工作效率，从而助力整个项目的周期、质
量和成本目标的达成。
